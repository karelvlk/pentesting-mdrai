#!/usr/bin/env bash
source $(pwd)/../config/config.sh

echo "Start [$(date "+%Y-%m-%d %H:%M:%S")]: Running nmap_all"
t0=$(date +%s)
timeout ${hard_timeout_duration_min}m sudo nmap -A $target_subnet -p 1-10000 --packet-trace --host-timeout ${timeout_duration_min}m
t=$(date +%s)
elapsed_time=$((t - t0))
echo "End [$(date "+%Y-%m-%d %H:%M:%S")]: Running nmap_all (took $elapsed_time seconds)"

